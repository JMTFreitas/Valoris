<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valoris</title>
<style>
/* Basic reset */
*{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
  background:#f4f6fb; /* soft background */
  color:#1e293b;
}
h1,h2{font-weight:800}
h1{font-size:3.2rem}
h2{font-size:2.0rem;text-align:center;margin-bottom:0.5rem}
.subtitle{text-align:center;font-size:1.1rem;max-width:820px;margin:0.5rem auto 1.5rem;color:#f1f5f9}
.section-sub{text-align:center;margin-bottom:2rem;font-size:1.05rem;color:#1e293b}
header.hero{
  position:relative;color:#fff;text-align:center;padding:4rem 1rem 6rem;
  z-index:0;
}
.hero-bg{
  position:absolute;inset:0;
  background-image:linear-gradient(90deg,#0ea5e9 0%, #6366f1 100%);
  opacity:0.95;
  z-index:0;
  pointer-events:none;
}
.hero-content{position:relative;z-index:1}
.icon-circle{
  width:92px;height:92px;border-radius:50%;background:rgba(255,255,255,0.14);
  display:flex;align-items:center;justify-content:center;margin:0 auto 1rem;
}
.features{list-style:none;display:flex;flex-wrap:wrap;gap:1.2rem;justify-content:center;font-size:1rem}
.features li{display:flex;align-items:center;gap:0.4rem}

.overview{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1rem;margin-top:-3.2rem;padding:0 1rem 3rem;
  position:relative;z-index:2;
}
.card{
  background:#f5f7fa;border-radius:12px;padding:1.25rem;box-shadow:0 2px 6px rgba(0,0,0,0.08);
  transition:transform .2s,box-shadow .2s
}
.card:hover{transform:translateY(-4px);box-shadow:0 6px 15px rgba(0,0,0,0.12)}
.card.psi{background:#0066ff;color:#fff}
.card.positive{border-left:6px solid #16a34a}
.card.negative{border-left:6px solid #dc2626}
.label{font-size:0.85rem;opacity:.9;margin-bottom:0.25rem}
.value{font-size:1.7rem;font-weight:700}
.mini{font-size:0.9rem}.mini.positive{color:#bbf7d0}.mini.negative{color:#fecaca}

.companies{padding:2rem 1rem 4rem}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.25rem}
.stock-card{
  background:#f5f7fa;border-radius:12px;padding:1.25rem;box-shadow:0 2px 6px rgba(0,0,0,0.08);
  transition:transform .2s,box-shadow .2s;border-top:6px solid transparent;text-decoration:none;color:inherit;cursor:default;
}
.stock-card:hover{transform:translateY(-4px);box-shadow:0 6px 15px rgba(0,0,0,0.12)}
.stock-card.positive{border-color:#16a34a}
.stock-card.negative{border-color:#dc2626}
.stock-card.neutral{border-color:#64748b}
.stock-card h3{font-size:1.2rem;color:#1e293b;margin-bottom:0.25rem}
.stock-card .name{font-size:0.95rem;color:#475569;margin-bottom:0.8rem}
.badge{
  background:#e2e8f0;color:#1e293b;padding:0.2rem 0.75rem;border-radius:20px;font-size:0.75rem;display:inline-block;margin-bottom:1rem
}
.price{font-size:1.6rem;font-weight:700;margin-bottom:0.4rem;color:#1e293b}
.change{font-size:1rem;font-weight:600;margin-bottom:1rem}
.stock-card.positive .change{color:#16a34a}
.stock-card.negative .change{color:#dc2626}
.stock-card.neutral .change{color:#64748b}
.metrics{font-size:0.83rem;color:#475569;border-top:1px solid #cbd5e1;padding-top:0.7rem;display:flex;justify-content:space-between}
.metrics span{display:block;font-weight:500;font-size:0.72rem;color:#64748b;margin-bottom:0.15rem}

footer{text-align:center;padding:2rem 1rem;background:#1e293b;color:#f1f5f9;font-size:0.85rem}
</style>
</head>
<body>
<header class="hero">
  <div class="hero-bg"></div>
  <div class="hero-content">
    <div class="icon-circle">
      <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="3" x2="3" y2="21"/><line x1="3" y1="21" x2="21" y2="21"/><line x1="7" y1="17" x2="7" y2="13"/><line x1="11" y1="17" x2="11" y2="7"/><line x1="15" y1="17" x2="15" y2="9"/><line x1="19" y1="17" x2="19" y2="11"/></svg>
    </div>
    <h1>Valoris</h1>
    <p class="subtitle">Professional analysis and valuation of the leading Portuguese companies listed on the stock market</p>
    <ul class="features">
      <li>üìà Real‚Äëtime Analysis</li>
      <li>üè¢ 8 Lead Companies</li>
      <li>üìä Advanced Metrics</li>
    </ul>
  </div>
</header>

<main>
  <section class="overview">
    <div class="card psi">
      <p class="label">PSI20</p>
      <p class="value">6847.32</p>
      <p class="mini positive">+125.48 (1.87%)</p>
    </div>
    <div class="card">
      <p class="label">Volume</p>
      <p class="value">‚Ç¨1.2B</p>
      <p class="mini">Today</p>
    </div>
    <div class="card positive">
      <p class="label">Gainers</p>
      <p class="value">14</p>
      <p class="mini">Companies</p>
    </div>
    <div class="card negative">
      <p class="label">Losers</p>
      <p class="value">6</p>
      <p class="mini">Companies</p>
    </div>
  </section>

  <section class="companies">
    <h2>Companies (live)</h2>
    <p class="section-sub">Detailed analysis of the main companies listed on Euronext Lisbon</p>

    <div class="grid">
      <!-- 1 -->
      <div class="stock-card neutral" data-sym="EDP">
        <h3>EDP</h3>
        <p class="name">EDP ‚Äì Energias de Portugal</p>
        <span class="badge">Energy</span>
        <p class="price"  id="price-EDP">‚Ç¨4.85</p>
        <p class="change" id="change-EDP">+‚Ç¨0.12 (2.54%)</p>
        <div class="metrics"><p><span>Market Cap</span> 17.8B</p><p><span>P/E</span> 15.2</p></div>
      </div>

      <!-- 2 -->
      <div class="stock-card neutral" data-sym="GALP">
        <h3>GALP</h3>
        <p class="name">Galp Energia</p>
        <span class="badge">Energy</span>
        <p class="price"  id="price-GALP">‚Ç¨15.42</p>
        <p class="change" id="change-GALP">-‚Ç¨0.28 (-1.78%)</p>
        <div class="metrics"><p><span>Market Cap</span> 12.4B</p><p><span>P/E</span> 8.6</p></div>
      </div>

      <!-- 3 -->
      <div class="stock-card neutral" data-sym="JMT">
        <h3>JER√ìNIMO MARTINS</h3>
        <p class="name">Jer√≥nimo Martins</p>
        <span class="badge">Retail</span>
        <p class="price"  id="price-JMT">‚Ç¨18.64</p>
        <p class="change" id="change-JMT">+‚Ç¨0.36 (1.97%)</p>
        <div class="metrics"><p><span>Market Cap</span> 11.7B</p><p><span>P/E</span> 13.8</p></div>
      </div>

      <!-- 4 -->
      <div class="stock-card neutral" data-sym="NVG">
        <h3>NAVIGATOR</h3>
        <p class="name">Navigator</p>
        <span class="badge">Pulp & Paper</span>
        <p class="price"  id="price-NVG">‚Ç¨3.89</p>
        <p class="change" id="change-NVG">+‚Ç¨0.08 (2.10%)</p>
        <div class="metrics"><p><span>Market Cap</span> 2.7B</p><p><span>P/E</span> 10.5</p></div>
      </div>

      <!-- 5 -->
      <div class="stock-card neutral" data-sym="NOS">
        <h3>NOS</h3>
        <p class="name">NOS</p>
        <span class="badge">Telecommunications</span>
        <p class="price"  id="price-NOS">‚Ç¨3.24</p>
        <p class="change" id="change-NOS">+‚Ç¨0.02 (0.62%)</p>
        <div class="metrics"><p><span>Market Cap</span> 1.4B</p><p><span>P/E</span> 16.8</p></div>
      </div>

      <!-- 6 -->
      <div class="stock-card neutral" data-sym="REN">
        <h3>REN</h3>
        <p class="name">REN ‚Äì Redes Energ√©ticas Nacionais</p>
        <span class="badge">Energy</span>
        <p class="price"  id="price-REN">‚Ç¨2.68</p>
        <p class="change" id="change-REN">+‚Ç¨0.01 (0.37%)</p>
        <div class="metrics"><p><span>Market Cap</span> 1.4B</p><p><span>P/E</span> 22.3</p></div>
      </div>

      <!-- 7 -->
      <div class="stock-card neutral" data-sym="COR">
        <h3>CORTICEIRA AMORIM</h3>
        <p class="name">Corticeira Amorim</p>
        <span class="badge">Materials</span>
        <p class="price"  id="price-COR">‚Ç¨10.15</p>
        <p class="change" id="change-COR">+‚Ç¨0.25 (2.53%)</p>
        <div class="metrics"><p><span>Market Cap</span> 1.4B</p><p><span>P/E</span> 19.2</p></div>
      </div>

      <!-- 8 -->
      <div class="stock-card neutral" data-sym="SON">
        <h3>SONAE</h3>
        <p class="name">Sonae</p>
        <span class="badge">Retail</span>
        <p class="price"  id="price-SON">‚Ç¨0.89</p>
        <p class="change" id="change-SON">+‚Ç¨0.01 (0.91%)</p>
        <div class="metrics"><p><span>Market Cap</span> 2.8B</p><p><span>P/E</span> 18.4</p></div>
      </div>
    </div>
  </section>
</main>

<footer>
  <p>Data via Twelve Data ‚Ä¢ Euronext Lisbon</p>
  <p>Valoris ‚Äî analytics platform</p>
</footer>

<!-- ======== Live quotes script ======== -->
<script>
const API_KEY = "1c96cb764bd14199aa8f3326a565b1ba"; // <-- put your Twelve Data key here

/* Map: data-sym -> Twelve Data symbol (XLIS = Lisbon).
   Confirm in your Twelve Data dashboard if any differ. */
const MAP = {
  "EDP": "EDP:XLIS",
  "GALP": "GALP:XLIS",
  "JMT":  "JMT:XLIS",
  "NVG":  "NVG:XLIS",   // Navigator
  "NOS":  "NOS:XLIS",
  "REN":  "RENE:XLIS",  // REN
  "COR":  "COR:XLIS",   // Corticeira Amorim
  "SON":  "SON:XLIS"    // Sonae
};

function eur(n){ return "‚Ç¨" + Number(n).toFixed(2); }
function sign(n){ return n>0?"+":n<0?"-":""; }
function setTrend(el, change){
  el.classList.remove("positive","negative","neutral");
  el.classList.add(change>0?"positive":change<0?"negative":"neutral");
}

async function fetchQuote(symApi){
  const url = `https://api.twelvedata.com/quote?symbol=${encodeURIComponent(symApi)}&apikey=${API_KEY}`;
  const r = await fetch(url);
  const j = await r.json();
  if (j && j.price !== undefined) {
    return { price: Number(j.price), change: Number(j.change), percent: Number(j.percent_change) };
  }
  throw new Error("No data for " + symApi);
}

async function updateOne(sym){
  const apiSym = MAP[sym]; if (!apiSym) return;
  try{
    const q = await fetchQuote(apiSym);
    const priceEl = document.getElementById(`price-${sym}`);
    const changeEl = document.getElementById(`change-${sym}`);
    const cardEl  = document.querySelector(`.stock-card[data-sym="${sym}"]`);
    if (priceEl) priceEl.textContent = eur(q.price);
    if (changeEl){
      const s = sign(q.change);
      changeEl.textContent = `${s}${eur(Math.abs(q.change))} (${s}${Math.abs(q.percent).toFixed(2)}%)`;
    }
    if (cardEl) setTrend(cardEl, q.change);
  }catch(e){ console.warn("Failed", sym, e); }
}

async function updateAll(){ await Promise.all(Object.keys(MAP).map(updateOne)); }
updateAll();
setInterval(updateAll, 120000); // every 2 minutes (adjust to your quota)
</script>
</body>
</html>
